!function(t){"use strict";let e=[],n=0;function r(t,e){const n=e.length;if(t.length<n)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function o(t,e){const n=Math.ceil(e/t.length);return t.repeat(n).slice(0,e)}function s(){const t=e[n];return n+=1,t}function c(t){const r=e.slice(n,n+t).reverse().join("");return n+=t,r}function i(t){const i=t.slice(17152,32768),l=r(i,new Uint8Array([0,112,120,97]));r(i,new Uint8Array([58,99,58,0]));const a=i.slice(4);if(l){return function(t){const r=t[0]<<8|t[1],i=[];for(let t=0;t<256;t++)i.push(t);const l=t.slice(4);e=[];for(let t=0;t<l.length;t++){const n=l[t].toString(2).padStart(8,"0").split("").reverse();e.push(...n)}let a="";for(n=0;a.length<r;)if("1"===s()){let t=0;for(;"1"===s();)t+=1;const e=(1<<t)-1,n=c(t+4),r=parseInt(n,2)+(e<<4);a+=String.fromCharCode(i[r]);const o=i.splice(r,1);i.unshift(o[0])}else{let t;t="1"===s()?"1"===s()?5:10:15;const e=c(t),n=parseInt(e,2)+1;let r=3;for(;;){const t=c(3),e=parseInt(t,2);if(r+=e,7!==e)break}if(n>a.length)throw console.warn("offset 大于 code 长度",n,a.length,a),new Error("offset 大于 code 长度");let i="";i=r>=n?a.slice(-n):a.slice(-n,-n+r),r>n&&(i+=o(i,r-n)),a+=i}return a}(a)}}t.readP8=async function(t){var e;return{asset:undefined,code:i(function(t){const e=new Uint8Array(t.length/4);for(let n=0;n<t.length;n+=4){const r=3&t[n],o=3&t[n+1],s=3&t[n+2],c=(3&t[n+3])<<6|r<<4|o<<2|s;e[n/4]=c}return e}(await(e=t,new Promise(((t,n)=>{const r=new Image;r.onload=()=>{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=r.width,e.height=r.height,n.drawImage(r,0,0);const o=n.getImageData(0,0,e.width,e.height).data;t(o)},r.onerror=()=>{n(new Error("无法加载图片"))},r.src=e})))))}}}({});
